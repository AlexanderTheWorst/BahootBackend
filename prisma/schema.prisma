datasource db {
  provider = "mysql"
}

generator client {
  provider = "prisma-client"
  output   = "./generated"
}

model User {
    id            String @id @default(cuid())
    username      String @unique
    password      String @db.LongText

    quizzes       Quiz[]
}

enum QuizType {
  Quiz
}

model Quiz {
  id              String @id @default(cuid())
  name            String
  description     String

  quizType        QuizType

  creator         User @relation(fields: [creatorId], references: [id])
  creatorId       String
  
  questions       QuizQuestion[]
}

model QuizQuestion {
  id              String @id @default(cuid())

  question        String
  description     String

  quiz            Quiz @relation(fields: [quizId], references: [id])
  quizId          String

  choices         QuestionChoice[]
}

model QuestionChoice {
  id              String @id @default(cuid())

  choice          String
  explanation     String
  correct         Boolean @default(false)

  question        QuizQuestion @relation(fields: [questionId], references: [id], onDelete: Cascade)
  questionId      String
}